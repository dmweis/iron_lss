<!DOCTYPE html><html lang="en"><head><meta charset="utf-8"><meta name="viewport" content="width=device-width, initial-scale=1.0"><meta name="generator" content="rustdoc"><meta name="description" content="Lynxmotion Smart Servo Driver"><meta name="keywords" content="rust, rustlang, rust-lang, lss_driver"><title>lss_driver - Rust</title><link rel="preload" as="font" type="font/woff2" crossorigin href="../SourceSerif4-Regular.ttf.woff2"><link rel="preload" as="font" type="font/woff2" crossorigin href="../FiraSans-Regular.woff2"><link rel="preload" as="font" type="font/woff2" crossorigin href="../FiraSans-Medium.woff2"><link rel="preload" as="font" type="font/woff2" crossorigin href="../SourceCodePro-Regular.ttf.woff2"><link rel="preload" as="font" type="font/woff2" crossorigin href="../SourceSerif4-Bold.ttf.woff2"><link rel="preload" as="font" type="font/woff2" crossorigin href="../SourceCodePro-Semibold.ttf.woff2"><link rel="stylesheet" type="text/css" href="../normalize.css"><link rel="stylesheet" type="text/css" href="../rustdoc.css" id="mainThemeStyle"><link rel="stylesheet" type="text/css" href="../ayu.css" disabled><link rel="stylesheet" type="text/css" href="../dark.css" disabled><link rel="stylesheet" type="text/css" href="../light.css" id="themeStyle"><script id="default-settings" ></script><script src="../storage.js"></script><script defer src="../crates.js"></script><script defer src="../main.js"></script><noscript><link rel="stylesheet" href="../noscript.css"></noscript><link rel="alternate icon" type="image/png" href="../favicon-16x16.png"><link rel="alternate icon" type="image/png" href="../favicon-32x32.png"><link rel="icon" type="image/svg+xml" href="../favicon.svg"></head><body class="rustdoc mod crate"><!--[if lte IE 11]><div class="warning">This old browser is unsupported and will most likely display funky things.</div><![endif]--><nav class="mobile-topbar"><button class="sidebar-menu-toggle">&#9776;</button><a class="sidebar-logo" href="../lss_driver/index.html"><div class="logo-container"><img class="rust-logo" src="../rust-logo.svg" alt="logo"></div>
        </a><h2 class="location"></h2>
    </nav>
    <nav class="sidebar"><a class="sidebar-logo" href="../lss_driver/index.html"><div class="logo-container"><img class="rust-logo" src="../rust-logo.svg" alt="logo"></div>
        </a><h2 class="location"><a href="#">Crate lss_driver</a></h2><div class="sidebar-elems"><div class="block"><ul><li class="version">Version 0.8.4</li><li><a id="all-types" href="all.html">All Items</a></li></ul></div><section><div class="block"><ul><li><a href="#structs">Structs</a></li><li><a href="#enums">Enums</a></li><li><a href="#constants">Constants</a></li></ul></div></section></div></nav><main><div class="width-limiter"><div class="sub-container"><a class="sub-logo-container" href="../lss_driver/index.html"><img class="rust-logo" src="../rust-logo.svg" alt="logo"></a><nav class="sub"><form class="search-form"><div class="search-container"><span></span><input class="search-input" name="search" autocomplete="off" spellcheck="false" placeholder="Click or press ‘S’ to search, ‘?’ for more options…" type="search"><button type="button" id="help-button" title="help">?</button><div id="settings-menu" tabindex="-1">
                                <a href="../settings.html" title="settings"><img width="22" height="22" alt="Change settings" src="../wheel.svg"></a></div>
                        </div></form></nav></div><section id="main-content" class="content"><div class="main-heading">
    <h1 class="fqn"><span class="in-band">Crate <a class="mod" href="#">lss_driver</a><button id="copy-path" onclick="copy_path(this)" title="Copy item path to clipboard"><img src="../clipboard.svg" width="19" height="18" alt="Copy item path"></button></span></h1><span class="out-of-band"><a class="srclink" href="../src/lss_driver/lib.rs.html#1-1587">source</a> · <a id="toggle-all-docs" href="javascript:void(0)" title="collapse all docs">[<span class="inner">&#x2212;</span>]</a></span></div><details class="rustdoc-toggle top-doc" open><summary class="hideme"><span>Expand description</span></summary><div class="docblock"><h2 id="lynxmotion-smart-servo-driver"><a href="#lynxmotion-smart-servo-driver">Lynxmotion Smart Servo Driver</a></h2>
<p><a href="https://crates.io/crates/lss_driver"><img src="https://img.shields.io/crates/v/lss_driver.svg" alt="Crates.io" /></a>
<a href="https://docs.rs/lss_driver"><img src="https://docs.rs/lss_driver/badge.svg" alt="Docs" /></a>
<a href="https://github.com/dmweis/lss_driver/actions"><img src="https://github.com/dmweis/lss_driver/workflows/Rust/badge.svg" alt="Rust" /></a>
<a href="https://github.com/dmweis/lss_driver/actions"><img src="https://github.com/dmweis/lss_driver/workflows/Rust-windows/badge.svg" alt="Rust-windows" /></a>
<a href="https://codecov.io/gh/dmweis/lss_driver"><img src="https://codecov.io/gh/dmweis/lss_driver/branch/main/graph/badge.svg" alt="codecov" /></a>
<a href="https://github.com/dmweis/lss_driver"><img src="https://img.shields.io/crates/l/lss_driver" alt="License" /></a></p>
<p>This crate provides an asynchronous serial driver the the Lynxmotion smart servos.</p>
<p>You can read more about the servos on the official <a href="https://www.robotshop.com/info/wiki/lynxmotion/view/lynxmotion-smart-servo/">robotshop wiki</a></p>
<h3 id="driver"><a href="#driver">Driver</a></h3>
<p>The Smart servos are controlled over a serial UART protocol.</p>
<p>You can read about the protocol <a href="https://www.robotshop.com/info/wiki/lynxmotion/view/lynxmotion-smart-servo/lss-communication-protocol/">here</a>
It’s highly recommended to at least skim the protocol page before trying to use this driver.</p>
<p>This driver currently doesn’t implement all features from the protocol.<br />
Some missing features are modifiers and setup commands.<br />
If there are any missing commands or features you’d like added feel free to raise a PR or an issue.</p>
<p>This driver uses <code>async/await</code>. As a result you will need to use an async runtime.
The driver is based on <a href="https://github.com/berkowski/tokio-serial">tokio-serial</a> so tokio would be a good choice but any should work.</p>
<h3 id="usage"><a href="#usage">Usage</a></h3>
<p>This crate comes with multiple <a href="https://github.com/dmweis/lss_driver/tree/main/examples">examples</a>.<br />
These are a good start if you want to learn how to use it.</p>

<div class="example-wrap"><pre class="rust rust-example-rendered"><code>
<span class="attribute">#[<span class="ident">tokio::main</span>]</span>
<span class="kw">async</span> <span class="kw">fn</span> <span class="ident">main</span>() {
    <span class="comment">// Create a driver on port `COM14` or `/dev/ttyUSB0`...</span>
    <span class="kw">let</span> <span class="kw-2">mut</span> <span class="ident">driver</span> <span class="op">=</span> <span class="ident">lss_driver::LSSDriver::new</span>(<span class="string">&quot;COM14&quot;</span>).<span class="ident">unwrap</span>();
    <span class="comment">// In case there is only one servo connected</span>
    <span class="comment">// we can query it&#39;s ID using the broadcast ID</span>
    <span class="kw">let</span> <span class="ident">id</span> <span class="op">=</span> <span class="ident">driver</span>.<span class="ident">query_id</span>(<span class="ident">lss_driver::BROADCAST_ID</span>).<span class="kw">await</span>.<span class="ident">unwrap</span>();
    <span class="comment">// move motor with ID 5 to 90.0 degrees</span>
    <span class="ident">driver</span>.<span class="ident">move_to_position</span>(<span class="number">5</span>, <span class="number">90.0</span>).<span class="kw">await</span>.<span class="ident">unwrap</span>();
    <span class="comment">// Set color of servo with ID 5 to Magenta</span>
    <span class="ident">driver</span>.<span class="ident">set_color</span>(<span class="number">5</span>, <span class="ident">lss_driver::LedColor::Magenta</span>).<span class="kw">await</span>.<span class="ident">unwrap</span>();
}
</code></pre></div>
<h3 id="building"><a href="#building">Building</a></h3>
<p>This package shouldn’t depend on any native libraries.<br />
Rust <a href="https://gitlab.com/susurrus/serialport-rs">serialport</a> depends on <code>pkg-config</code> and <code>libudev-dev</code> on GNU Linux but they should be disabled for this crate.<br />
If you do run into issues with them failing it may be worth looking into their dependencies and raising an issue here.</p>
<h3 id="changelog"><a href="#changelog">Changelog</a></h3><h4 id="version-050---2020-01-13"><a href="#version-050---2020-01-13">Version 0.5.0 - (2020-01-13)</a></h4>
<ul>
<li>Windows support</li>
</ul>
<h4 id="version-061---2021-09-28"><a href="#version-061---2021-09-28">Version 0.6.1 - (2021-09-28)</a></h4>
<ul>
<li>Tokio 1.0 support (Now also on windows!)</li>
</ul>
<h3 id="disclaimer"><a href="#disclaimer">Disclaimer</a></h3>
<p><em>This software is not officially endorsed by Lynxmotion or Robotshop!</em></p>
<p>All product names, logos, and brands are property of their respective owners. All company, product and service names used in this website are for identification purposes only. Use of these names, logos, and brands does not imply endorsement.</p>
</div></details><h2 id="structs" class="small-section-header"><a href="#structs">Structs</a></h2>
<div class="item-table"><div class="item-row"><div class="item-left module-item"><a class="struct" href="struct.LSSDriver.html" title="lss_driver::LSSDriver struct">LSSDriver</a></div><div class="item-right docblock-short"><p>Driver for the LSS servo</p>
</div></div></div><h2 id="enums" class="small-section-header"><a href="#enums">Enums</a></h2>
<div class="item-table"><div class="item-row"><div class="item-left module-item"><a class="enum" href="enum.CommandModifier.html" title="lss_driver::CommandModifier enum">CommandModifier</a></div><div class="item-right docblock-short"><p>Modifiers used for some commands</p>
</div></div><div class="item-row"><div class="item-left module-item"><a class="enum" href="enum.LedBlinking.html" title="lss_driver::LedBlinking enum">LedBlinking</a></div><div class="item-right docblock-short"><p>Which status should trigger LED blinking
Can be combined in a list</p>
</div></div><div class="item-row"><div class="item-left module-item"><a class="enum" href="enum.LedColor.html" title="lss_driver::LedColor enum">LedColor</a></div><div class="item-right docblock-short"><p>Colors for the LED on the servo</p>
</div></div><div class="item-row"><div class="item-left module-item"><a class="enum" href="enum.LssDriverError.html" title="lss_driver::LssDriverError enum">LssDriverError</a></div><div class="item-right docblock-short"><p>Driver errors</p>
</div></div><div class="item-row"><div class="item-left module-item"><a class="enum" href="enum.Model.html" title="lss_driver::Model enum">Model</a></div><div class="item-right docblock-short"><p>Version of the motor</p>
</div></div><div class="item-row"><div class="item-left module-item"><a class="enum" href="enum.MotorStatus.html" title="lss_driver::MotorStatus enum">MotorStatus</a></div><div class="item-right docblock-short"><p>Status of the motor as responded to status query
If status is safe mode you can use <code>query_safety_status</code> to see more details</p>
</div></div><div class="item-row"><div class="item-left module-item"><a class="enum" href="enum.SafeModeStatus.html" title="lss_driver::SafeModeStatus enum">SafeModeStatus</a></div><div class="item-right docblock-short"><p>Reason why status mode is engaged
if <code>query_status</code> doesn’t return <code>SafeMode</code> this should be <code>NoLimits</code></p>
</div></div></div><h2 id="constants" class="small-section-header"><a href="#constants">Constants</a></h2>
<div class="item-table"><div class="item-row"><div class="item-left module-item"><a class="constant" href="constant.BROADCAST_ID.html" title="lss_driver::BROADCAST_ID constant">BROADCAST_ID</a></div><div class="item-right docblock-short"><p>ID used to talk to all motors on a bus at once</p>
</div></div></div></section></div></main><div id="rustdoc-vars" data-root-path="../" data-current-crate="lss_driver" data-themes="ayu,dark,light" data-resource-suffix="" data-rustdoc-version="1.63.0 (4b91a6ea7 2022-08-08)" ></div>
</body></html>